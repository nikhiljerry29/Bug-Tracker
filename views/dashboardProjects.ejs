<%- include("partials/navbar") -%>

<section id="Dashboard">
	<div class="container content">
		<div class="table-responsive-md">
			<%- include ("./partials/messages") -%>
			<table class="table table-striped table-hover">
				<% if (dashboardProjectsData.length === 0) { %>
				<caption>Table is empty. Click on add new issue!</caption>
				<% } else { %>
				<caption>Click on the tickets for more details.</caption>
				<% } %>
				<thead class="thead-dark">
					<tr>
						<th scope="col">Project ID</th>
						<th scope="col">Title</th>
						<th scope="col">Manager</th>
						<th scope="col">Developer</th>
						<th scope="col">Tester</th>
						<th scope="col">Created ON</th>
					</tr>
				</thead>
				<tbody>
					<% dashboardProjectsData.forEach(project => { %>
					<tr>
						<th scope="row">
							<a href="/dashboard/projects/PR<%= project.id %>">
								PR<%= project.id %>
							</a>
						</th>

						<td><%= project.project_name %></td>
						<td><%= everyUsersName[project.manager_id] %></td>
						<td><%= everyUsersName[project.developer_id] %></td>
						<td><%= everyUsersName[project.tester_id] %></td>
						<td><%= date(project.createdAt) %></td>
					</tr>
					<% }) %>
				</tbody>
			</table>
		</div>
	</div>
</section>